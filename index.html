<!DOCTYPE html>
<html>
  <head>
    <title>Interacci贸n AR - Cubos</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    
    <script>
      // L贸gica para cambiar el objeto central
      AFRAME.registerComponent('controlador-botones', {
        init: function () {
          const principal = document.querySelector('#objeto-central');
          const btn1 = document.querySelector('#btn-verde');
          const btn2 = document.querySelector('#btn-naranja');

          // Al tocar el bot贸n verde: Se vuelve una Esfera Verde
          btn1.addEventListener('click', () => {
            principal.setAttribute('geometry', 'primitive: sphere; radius: 0.4');
            principal.setAttribute('color', '#2ecc71');
          });

          // Al tocar el bot贸n naranja: Se vuelve un Cubo Naranja
          btn2.addEventListener('click', () => {
            principal.setAttribute('geometry', 'primitive: box; width: 0.6; height: 0.6; depth: 0.6');
            principal.setAttribute('color', '#f39c12');
          });
        }
      });
    </script>

    <a-scene 
      embedded 
      arjs="sourceType: webcam; debugUIEnabled: false;" 
      cursor="rayOrigin: mouse" 
      raycaster="objects: .clickable">

      <a-marker preset="hiro" controlador-botones>
        
        <a-entity 
          id="objeto-central" 
          geometry="primitive: box; width: 0.5; height: 0.5; depth: 0.5" 
          position="0 0.5 0" 
          material="color: #3498db; metalness: 0.5; roughness: 0.2"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 4000; easing: linear">
        </a-entity>

        <a-box 
          id="btn-verde" 
          class="clickable" 
          position="-0.7 0.2 0.5" 
          scale="0.25 0.25 0.25" 
          color="#27ae60">
          <a-text value="ESFERA" align="center" position="0 0.7 0" rotation="-90 0 0" width="2.5"></a-text>
        </a-box>

        <a-box 
          id="btn-naranja" 
          class="clickable" 
          position="0.7 0.2 0.5" 
          scale="0.25 0.25 0.25" 
          color="#d35400">
          <a-text value="CUBO" align="center" position="0 0.7 0" rotation="-90 0 0" width="2.5"></a-text>
        </a-box>

      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
